# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: 'macos-latest'

steps:
 - task: NuGetToolInstaller@1
   inputs:
    versionSpec: '4.5'

 - task: NuGetCommand@2
   inputs:
     command: 'restore'
     restoreSolution: '**/*.sln'
     feedsToUse: 'select'

 - task: MSBuild@1
   inputs:
      solution: '**/TinySvgHelper.csproj'
      configuration: 'Release'
      
 - task: CopyFiles@2
   inputs:
    Contents: '**/*nupkg'
    TargetFolder: '$(build.artifactstagingdirectory)'
   
 - task: PublishBuildArtifacts@1
   inputs:
        PathtoPublish: '$(Build.ArtifactStagingDirectory)'
        ArtifactName: 'packages'
        publishLocation: 'Container'